/*! Embed Localwiki - v0.1.0 - 2013-04-11
* https://github.com/sethvincent/jquery.embed-localwiki.js
* Copyright (c) 2013 sethvincent; Licensed MIT */
(function(e){function i(i){e.ajax({url:i.wikiUrl+"/api/page/"+i.pageName,data:{limit:i.limit,offset:i.offset},dataType:"jsonp"}).done(function(o){if(i.done)i.done(o);else{var a="<section class='localwiki'>",n="<h1 class='localwiki-name'>"+o.name+"</h1>",t="<div class='localwiki-content'>"+o.content+"</div>",l="</section>";e(i.el).append(a+n+t+l)}})}function o(i){e.ajax({url:i.wikiUrl+"/api/page/",data:{limit:i.limit,offset:i.offset,page_tags__tags__slug:i.tag.replace(/\s/g,"_")},dataType:"jsonp"}).done(function(o){i.done?i.done(o):(console.log(o),e(i.el).append("<section class='localwiki'><h1 class='localwiki-name'>"+i.tag+"</h1></section>"),e(o.objects).each(function(i,o){console.log(i,o),e(".localwiki").append("<h3>"+o.name+"</h3>"),e(".localwiki").append("<div>"+o.content+"</div>")}))})}function a(){}function n(){}e.fn.embedLocalWiki=function(t){t=e.extend({},e.fn.embedLocalWiki.options,t),t.el=this,console.log("this",this),console.log("options",t),"page"===t.embedType?i(t):"list"===t.embedType?o(t):"map"===t.embedType?a(t):"stats"===t.embedType&&n(t)},e.fn.embedLocalWiki.options={wikiUrl:"",embedType:"page",pageName:"",tag:"",map:!1,limit:10,offset:0}})(jQuery);